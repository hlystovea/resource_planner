{% extends 'base.html' %}
{% block title %}Документы{% endblock %}
{% load addclass %}
{% block content %}
<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'index' %}">Главная</a></li>
        <li class="breadcrumb-item"><a href="{% url 'docs:protocol-list' %}">Протоколы ТО</a></li>
    </ol>
</nav>

<div class="row justify-content-center">
    <div class="col-md-8 p-5 pt-2">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {% if form.errors %}
            {% if form.non_field_errors %}
            <div class="alert alert-danger" role="alert">
                {{ form.non_field_errors }}
            </div>
            {% endif %}

            {% for field in form %}
            {% if field.errors %}
            <div class="alert alert-danger" role="alert">
                {{ field.errors }}
            </div>
            {% endif %}
            {% endfor %}
            {% endif %}

            <div class="card my-2">
                <div class="card-header">Протокол</div>
                <div class="card-body">
                    <!-- Дата проверки -->
                    <div class="form-group row my-1"
                        aria-required="{% if form.date.required %}true{% else %}false{% endif %}">
                        <label for="{{ form.date.id_for_label }}" class="col-md-6 col-form-label text-md-right">
                            {{ form.date.label }}
                            <span class="required">*</span>
                        </label>
                        <div class="col-md-6">
                            {{ form.date|addclass:"form-control" }}
                            {% if form.date.help_text %}
                            <small id="{{ form.date.id_for_label }}-help" class="form-text text-muted">
                                {{ form.date.help_text|safe }}
                            </small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Шаблон -->
                    <div class="form-group row my-1" aria-required="{% if form.template.required %}true{% else %}false{% endif %}">
                        <label for="{{ form.template.id_for_label }}" class="col-md-6 col-form-label text-md-right">
                            {{ form.template.label }}
                            <span class="required">*</span>
                        </label>
                        <div class="col-md-6">
                            {{ form.template|addclass:"form-control" }}
                            {% if form.template.help_text %}
                            <small id="{{ form.template.id_for_label }}-help" class="form-text text-muted">
                                {{ form.template.help_text|safe }}
                            </small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Присоединение -->
                    <div class="form-group row my-1"
                        aria-required="{% if form.connection.required %}true{% else %}false{% endif %}">
                        <label for="{{ form.connection.id_for_label }}" class="col-md-6 col-form-label text-md-right">
                            {{ form.connection.label }}
                            <span class="required">*</span>
                        </label>
                        <div class="col-md-6">
                            {{ form.connection|addclass:"form-control" }}
                            {% if form.connection.help_text %}
                            <small id="{{ form.connection.id_for_label }}-help" class="form-text text-muted">
                                {{ form.connection.help_text|safe }}
                            </small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Инструменты -->
                    <div class="form-group row my-1"
                        aria-required="{% if form.instruments.required %}true{% else %}false{% endif %}">
                        <label for="{{ form.instruments.id_for_label }}" class="col-md-6 col-form-label text-md-right">
                            {{ form.instruments.label }}
                            <span class="required">*</span>
                        </label>
                        <div class="col-md-6">
                            {{ form.instruments|addclass:"form-control" }}
                            {% if form.instruments.help_text %}
                            <small id="{{ form.instruments.id_for_label }}-help" class="form-text text-muted">
                                {{ form.instruments.help_text|safe }}
                            </small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Подписывающие -->
                    <div class="form-group row my-1"
                        aria-required="{% if form.signers.required %}true{% else %}false{% endif %}">
                        <label for="{{ form.signers.id_for_label }}" class="col-md-6 col-form-label text-md-right">
                            {{ form.signers.label }}
                            <span class="required">*</span>
                        </label>
                        <div class="col-md-6">
                            {{ form.signers|addclass:"form-control" }}
                            {% if form.signers.help_text %}
                            <small id="{{ form.signers.id_for_label }}-help" class="form-text text-muted">
                                {{ form.signers.help_text|safe }}
                            </small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Проверяющий -->
                    <div class="form-group row my-1"
                        aria-required="{% if form.supervisor.required %}true{% else %}false{% endif %}">
                        <label for="{{ form.supervisor.id_for_label }}" class="col-md-6 col-form-label text-md-right">
                            {{ form.supervisor.label }}
                            <span class="required">*</span>
                        </label>
                        <div class="col-md-6">
                            {{ form.supervisor|addclass:"form-control" }}
                            {% if form.supervisor.help_text %}
                            <small id="{{ form.supervisor.id_for_label }}-help" class="form-text text-muted">
                                {{ form.supervisor.help_text|safe }}
                            </small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Кнопка -->
                    <div class="d-flex justify-content-end mt-3">
                        <button type="submit" class="btn btn-sm btn-secondary me-1">Сохранить</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}