{% load static %}
<li>
    <input class="tree-menu__item" name="storage" id="tree-menu-item-{{ storage.pk }}" type="checkbox"
        hx-get="{% url 'warehouse:storage-li' storage.pk %}"
        hx-target="closest li"
        hx-swap="outerHTML"
        hx-params="none"
        checked
    >
    <label for="tree-menu-item-{{ storage.pk }}" class="tree-menu__label"></label>
    <a class="tree-menu__link link-dark link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover"
        role="button"
        id="menu-link-{{ storage.pk }}"
        hx-get="{% url 'warehouse:storage-detail' storage.pk %}"
        hx-push-url="true"
        hx-target="#content"
    >
        {{ storage.name }}
    </a>

    <ul class="tree-menu">
        {% for storage in storage.storage.all %}
            {% include 'warehouse/includes/storage_li.html' %}
        {% endfor %}
        {% if user.is_authenticated and user.dept == storage.owner or user.is_authenticated and not storage.owner %}    
            {% include 'warehouse/storage_form.html' with parent_storage=storage %}
        {% endif %}
    </ul>
</li>