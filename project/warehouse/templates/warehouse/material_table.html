<div id="materialTable">
    <table class="table table-sm table-hover">
        <thead class="table">
            <tr>
                <th scope="col">Наименование</th>
                <th scope="col">Артикул</th>
                <th scope="col">Количество</th>
            </tr>
        </thead>
        <tbody>
            {% for m in material_list %}
            <tr>
                <td><a href="{% url 'warehouse:material-detail' m.pk %}">{{ m.name }}</a></td>
                <td>{{ m.article_number|default:"-" }}</td>
                <td>{% if m.total %}{{ m.total|floatformat }}{% else %}0{% endif %} {{ m.measurement_unit}}</td>
            </tr>
            {% endfor %}
            {% if user.is_authenticated %}
            <form id="materialForm" hx-post="{% url 'warehouse:material-create' %}" hx-target="#materialForm" hx-swap="beforebegin">
                {% csrf_token %}
                <tr>
                    <td><input class="form-control form-control-sm" name="name" type="text" placeholder="Наименование" required></td>
                    <td><input class="form-control form-control-sm" name="article_number" type="text" placeholder="Артикул"></td>
                    <td><input class="form-control form-control-sm" name="measurement_unit" type="text" placeholder="Ед.изм." required></td>
                    <td><button class="btn btn-sm btn-secondary me-1" type="submit">Добавить</button></td>
                </tr>
            </form>
            {% endif %}
        </tbody>
    </table>
    {% include "includes/paginator.html" %}
</div>